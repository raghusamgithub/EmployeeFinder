Angular
USE [PSCustom];
GO

SET ANSI_NULLS ON;
GO

SET QUOTED_IDENTIFIER ON;
GO

DECLARE @EventDescription VARCHAR(100);

-- First check
SET @EventDescription = 'Change mailing address block - first check';

IF NOT EXISTS (
    SELECT 1 
    FROM dbo.PS_EventType 
    WHERE EventDescription COLLATE SQL_Latin1_General_CP1_CI_AS = @EventDescription
)
BEGIN
    INSERT INTO dbo.PS_EventType (
        EventDescription,
        DateCreated,
        DateModified
    )
    VALUES (
        @EventDescription,
        GETDATE(),
        GETDATE()
    );
END;

-- Second check
SET @EventDescription = 'Change mailing address block - second check';

IF NOT EXISTS (
    SELECT 1 
    FROM dbo.PS_EventType 
    WHERE EventDescription COLLATE SQL_Latin1_General_CP1_CI_AS = @EventDescription
)
BEGIN
    INSERT INTO dbo.PS_EventType (
        EventDescription,
        DateCreated,
        DateModified
    )
    VALUES (
        @EventDescription,
        GETDATE(),
        GETDATE()
    );
END;

